<div ng-controller="HomeController" class="jumbotron">
  <div ng-repeat="question in home.questions">
    <div ng-bind-html="home.$sce.trustAsHtml(question.Text)">
      {{ question.Text }}
    </div>
    <div>Upvotes {{ question.upvotes || 0 }}</div>
    <div>Downvotes {{ question.downvotes || 0 }}</div>
    <a ui-sref="questionDetails({questionId: question.Id})">Details</a>
    <button ng-click="home.upVoteQuestion(question.Id)">Vote Up</button>
    <button ng-click="home.downVoteQuestion(question.Id)">Vote Down</button>

    <div>
      <textarea ng-model="question.newAnswerText">
            {{ question.newAnswerText }}
        </textarea
      >
      <button
        ng-disabled="!question.newAnswerText"
        ng-click="home.saveAnswer(question.Id)"
      >
        Save
      </button>
    </div>

    <ul ng-show="home.answers[question.Id]">
      <li ng-repeat="answer in home.answers[question.Id]">
        <div ng-bind-html="home.$sce.trustAsHtml(answer.Answer)"></div>
      </li>
    </ul>
  </div>
</div>
